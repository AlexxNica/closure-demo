{"version":3,"file":"ng_module_factory.js","sourceRoot":"","sources":["../../../../../modules/@angular/core/src/linker/ng_module_factory.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Injector, THROW_IF_NOT_FOUND} from '../di/injector';\nimport {unimplemented} from '../facade/errors';\nimport {stringify} from '../facade/lang';\nimport {Type} from '../type';\nimport {ComponentFactory} from './component_factory';\nimport {CodegenComponentFactoryResolver, ComponentFactoryResolver} from './component_factory_resolver';\n\n\n\n/**\n * Represents an instance of an NgModule created via a {@link NgModuleFactory}.\n *\n * `NgModuleRef` provides access to the NgModule Instance as well other objects related to this\n * NgModule Instance.\n *\n * @stable\n */\nexport abstract class NgModuleRef<T> {\n  /**\n   * The injector that contains all of the providers of the NgModule.\n   */\n  get injector(): Injector { return unimplemented(); }\n\n  /**\n   * The ComponentFactoryResolver to get hold of the ComponentFactories\n   * declared in the `entryComponents` property of the module.\n   */\n  get componentFactoryResolver(): ComponentFactoryResolver { return unimplemented(); }\n\n  /**\n   * The NgModule instance.\n   */\n  get instance(): T { return unimplemented(); }\n/**\n *  Destroys the module instance and all of the data structures associated with it.\n * @abstract\n * @return {?}\n */\ndestroy() {}\n/**\n *  Allows to register a callback that will be called when the module is destroyed.\n * @abstract\n * @param {?} callback\n * @return {?}\n */\nonDestroy(callback: () => void) {}\n}\n\n/**\n * @experimental\n */\nexport class NgModuleFactory<T> {\n/**\n * @param {?} _injectorClass\n * @param {?} _moduleType\n */\nconstructor(\nprivate _injectorClass: {new (parentInjector: Injector): NgModuleInjector<T>},\nprivate _moduleType: Type<T>) {}\n\n  get moduleType(): Type<T> { return this._moduleType; }\n/**\n * @param {?} parentInjector\n * @return {?}\n */\ncreate(parentInjector: Injector): NgModuleRef<T> {\n    if (!parentInjector) {\n      parentInjector = Injector.NULL;\n    }\n    const /** @type {?} */ instance = new this._injectorClass(parentInjector);\n    instance.create();\n    return instance;\n  }\n\n  static _tsickle_typeAnnotationsHelper() {\n /** @type {?} */\nNgModuleFactory.prototype._injectorClass;\n /** @type {?} */\nNgModuleFactory.prototype._moduleType;\n  }\n\n}\n\nconst /** @type {?} */ _UNDEFINED = new Object();\n\nexport abstract class NgModuleInjector<T> extends CodegenComponentFactoryResolver implements\n    Injector,\n    NgModuleRef<T> {\nprivate _destroyListeners: (() => void)[] = [];\nprivate _destroyed: boolean = false;\npublic instance: T;\n/**\n * @param {?} parent\n * @param {?} factories\n * @param {?} bootstrapFactories\n */\nconstructor(\npublic parent: Injector, factories: ComponentFactory<any>[],\npublic bootstrapFactories: ComponentFactory<any>[]) {\n    super(factories, parent.get(ComponentFactoryResolver, ComponentFactoryResolver.NULL));\n  }\n/**\n * @return {?}\n */\ncreate() { this.instance = this.createInternal(); }\n/**\n * @abstract\n * @return {?}\n */\ncreateInternal() {}\n/**\n * @param {?} token\n * @param {?=} notFoundValue\n * @return {?}\n */\nget(token: any, notFoundValue: any = THROW_IF_NOT_FOUND): any {\n    if (token === Injector || token === ComponentFactoryResolver) {\n      return this;\n    }\n    const /** @type {?} */ result = this.getInternal(token, _UNDEFINED);\n    return result === _UNDEFINED ? this.parent.get(token, notFoundValue) : result;\n  }\n/**\n * @abstract\n * @param {?} token\n * @param {?} notFoundValue\n * @return {?}\n */\ngetInternal(token: any, notFoundValue: any) {}\n\n  get injector(): Injector { return this; }\n\n  get componentFactoryResolver(): ComponentFactoryResolver { return this; }\n/**\n * @return {?}\n */\ndestroy(): void {\n    if (this._destroyed) {\n      throw new Error(\n          `The ng module ${stringify(this.instance.constructor)} has already been destroyed.`);\n    }\n    this._destroyed = true;\n    this.destroyInternal();\n    this._destroyListeners.forEach((listener) => listener());\n  }\n/**\n * @param {?} callback\n * @return {?}\n */\nonDestroy(callback: () => void): void { this._destroyListeners.push(callback); }\n/**\n * @abstract\n * @return {?}\n */\ndestroyInternal() {}\n\n  static _tsickle_typeAnnotationsHelper() {\n /** @type {?} */\nNgModuleInjector.prototype._destroyListeners;\n /** @type {?} */\nNgModuleInjector.prototype._destroyed;\n /** @type {?} */\nNgModuleInjector.prototype.instance;\n /** @type {?} */\nNgModuleInjector.prototype.parent;\n /** @type {?} */\nNgModuleInjector.prototype.bootstrapFactories;\n  }\n\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}